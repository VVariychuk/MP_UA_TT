{"version":3,"sources":["components/molecules/modal/Modal.module.css","components/molecules/gallery/Gallery.module.css","components/atoms/search-input/SearchInput.module.css","components/atoms/button/Button.module.css","components/molecules/search-form/SearchForm.module.css","components/molecules/container/container.module.css","components/molecules/search-wrapper/styles.module.css","components/atoms/gallery-item/GalleryItem.module.css","context/index.js","hoc/withApiService.js","components/atoms/gallery-item/GalleryItem.js","components/molecules/gallery/Gallery.js","components/atoms/search-input/SearchInput.js","components/atoms/button/Button.js","components/molecules/search-form/SearchForm.js","components/molecules/container/Container.js","components/molecules/modal/Modal.js","components/atoms/loader/Loader.js","components/molecules/search-wrapper/SearchWrapper.js","App.js","service/api/ApiService.js","service/api/ApiRequests.js","index.js"],"names":["module","exports","createContext","ApiServiceProvider","Provider","ApiServiceConsumer","Consumer","withApiService","Wrapped","props","apiService","API","GalleryItem","src","fullSrc","alt","name","className","createdAt","imgClickHandler","id","styles","item","onClick","e","image","description","Gallery","remoteData","size","length","sheet","map","date","urls","alt_description","user","created_at","bigSrc","raw","width","height","small","split","reverse","join","SearchInput","value","onChangeHandler","placeholder","queriesList","type","onChange","input","autoComplete","list","Button","text","onClickHandler","disabled","button","SearchForm","buttonStyles","inputStyles","disabledBtn","onSubmit","Container","children","container","modalRoot","document","querySelector","Modal","onClose","onEscHandler","code","useEffect","window","addEventListener","removeEventListener","createPortal","overlay","target","currentTarget","MyLoader","color","useWindowSize","useState","storageName","page","setPage","perPage","query","setQuery","inputValue","setInputValue","isNewQuery","setIsNewQuery","setRemoteData","lastQueries","setLastQueries","noMoreContent","setNoMore","currentPicture","setCurrentPicture","isOpenModal","setIsOpenModal","isNoContent","setIsNoContent","showLoader","setShowLoader","emptyImagesListMessage","setEILM","getLast_5_Queries","getQueriesList","getData","orientation","getPhotosBySearchQuery","then","res","data","results","prev","totalPages","isMoreContent","total_pages","scrollTo","top","documentElement","scrollHeight","behavior","finally","arr","slice","JSON","parse","localStorage","getItem","toggleModal","preventDefault","includes","push","setItem","stringify","setQueriesList","wrapper","message","nodeName","onLoad","App","axios","defaults","headers","post","ApiRequests","_searchByQuery","_random","_defaultURI","_collections","this","_page","per_page","_per_page","getResource","_axios","_baseURL","process","_clientID","uri","params","Object","keys","reduce","acc","el","index","client_id","queryParam","get","_getURL","_getQueryParams","crossdomain","requests","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.c7a12e2e.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__1LWxe\",\"modal-window\":\"Modal_modal-window__RcTyk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"sheet\":\"Gallery_sheet__2XYby\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"input\":\"SearchInput_input__2zwmu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2uGdb\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search-form\":\"SearchForm_search-form__1jg8-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"container_container__DEeuN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"styles_wrapper__ie2UK\",\"input\":\"styles_input__34bgH\",\"button\":\"styles_button__i9hNZ\",\"load-more-button\":\"styles_load-more-button__1LzkJ\",\"message\":\"styles_message__1y_Mr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"GalleryItem_item__2fmVb\",\"image-wrapper\":\"GalleryItem_image-wrapper__10kqP\",\"image\":\"GalleryItem_image__10GSB\",\"description\":\"GalleryItem_description__2XOCa\"};","import { createContext } from 'react';\r\n\r\nconst { Provider: ApiServiceProvider, Consumer: ApiServiceConsumer } = createContext();\r\n\r\nexport { ApiServiceProvider, ApiServiceConsumer };\r\n","import React from 'react';\r\nimport { ApiServiceConsumer } from '../context';\r\n\r\nconst withApiService = Wrapped => props =>\r\n    <ApiServiceConsumer>{apiService => <Wrapped {...props} API={apiService} />}</ApiServiceConsumer>;\r\n\r\nexport default withApiService;\r\n","import React from 'react';\r\nimport styles from './GalleryItem.module.css';\r\n\r\nconst GalleryItem = ({ src, fullSrc, alt = '', className = '', name, createdAt, imgClickHandler }) => {\r\n    return (\r\n        <li id=\"item\" className={styles.item}>\r\n            <div id=\"imageWrapper\" className={styles['image-wrapper']} onClick={e => imgClickHandler(e, fullSrc)}>\r\n                <img src={src} alt={alt} className={styles.image} />\r\n                <div id=\"description\" className={styles.description}>\r\n                    <span>created at: {createdAt}</span>\r\n                    <span>by: {name}</span>\r\n                </div>\r\n            </div>\r\n        </li>\r\n    );\r\n};\r\n\r\nexport default GalleryItem;\r\n","import React from 'react';\r\nimport GalleryItem from '../../atoms/gallery-item';\r\nimport styles from './Gallery.module.css';\r\n\r\nconst Gallery = props => {\r\n    const { remoteData, imgClickHandler, size } = props;\r\n\r\n    const getModifiedDate = date => {\r\n        return date.split('T')[0].split('-').reverse().join('.');\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {remoteData.length > 0 ? (\r\n                <>\r\n                    <ul className={styles.sheet}>\r\n                        {remoteData.map(item => {\r\n                            const { id, urls, alt_description, user, created_at } = item;\r\n\r\n                            const bigSrc = `${urls.raw}&w=${size.width * 0.92}&h=${size.height * 0.92}`;\r\n\r\n                            return (\r\n                                <GalleryItem\r\n                                    key={id}\r\n                                    src={urls.small}\r\n                                    fullSrc={bigSrc}\r\n                                    alt={alt_description}\r\n                                    name={user.name}\r\n                                    createdAt={getModifiedDate(created_at)}\r\n                                    imgClickHandler={imgClickHandler}\r\n                                />\r\n                            );\r\n                        })}\r\n                    </ul>\r\n                </>\r\n            ) : (\r\n                <div />\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Gallery;\r\n","import React from 'react';\r\nimport styles from './SearchInput.module.css';\r\n\r\nconst SearchInput = ({\r\n    value = '',\r\n    name = 'searchInput',\r\n    onChangeHandler,\r\n    className = '',\r\n    placeholder = '',\r\n    queriesList,\r\n}) => {\r\n    return (\r\n        <>\r\n            <input\r\n                type=\"text\"\r\n                value={value}\r\n                name={name}\r\n                onChange={onChangeHandler}\r\n                className={`${styles.input} ${className}`}\r\n                placeholder={placeholder}\r\n                autoComplete=\"off\"\r\n                list=\"queries\"\r\n            />\r\n            <datalist id=\"queries\">\r\n                {queriesList.map(item => (\r\n                    <option key={item}>{item}</option>\r\n                ))}\r\n            </datalist>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SearchInput;\r\n","import React from 'react';\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ text, className = '', onClickHandler, type = 'button', disabled = false }) => {\r\n    return (\r\n        <button className={`${styles.button} ${className}`} onClick={onClickHandler} type={type} disabled={disabled}>\r\n            {text}\r\n        </button>\r\n    );\r\n};\r\n\r\nexport default Button;\r\n","import React from 'react';\r\nimport SearchInput from '../../atoms/search-input';\r\nimport Button from '../../atoms/button';\r\nimport styles from './SearchForm.module.css';\r\n\r\nconst SearchForm = ({\r\n    text,\r\n    onClickHandler,\r\n    value,\r\n    onChangeHandler,\r\n    buttonStyles = '',\r\n    inputStyles = '',\r\n    className,\r\n    queriesList = [],\r\n    disabledBtn,\r\n}) => {\r\n    return (\r\n        <header>\r\n            <form className={`${styles['search-form']} ${className}`} onSubmit={onClickHandler}>\r\n                <SearchInput\r\n                    placeholder=\"Type your query here please\"\r\n                    value={value}\r\n                    onChangeHandler={onChangeHandler}\r\n                    className={inputStyles}\r\n                    queriesList={queriesList}\r\n                />\r\n                <Button text={text} onClickHandler={onClickHandler} className={buttonStyles} disabled={disabledBtn} />\r\n            </form>\r\n        </header>\r\n    );\r\n};\r\n\r\nexport default SearchForm;\r\n","import React from 'react';\r\nimport styles from './container.module.css';\r\n\r\nconst Container = ({ children, className = '' }) => (\r\n    <main className={`${styles.container} ${className}`}>{children}</main>\r\n);\r\n\r\nexport default Container;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react';\r\nimport { createPortal } from 'react-dom';\r\nimport styles from './Modal.module.css';\r\n\r\nconst modalRoot = document.querySelector('#modal-root');\r\n\r\nconst Modal = ({ children, onClose }) => {\r\n    useEffect(() => {\r\n        window.addEventListener('keydown', onEscHandler);\r\n\r\n        return () => window.removeEventListener('keydown', onEscHandler);\r\n    }, []);\r\n\r\n    function onEscHandler(e) {\r\n        if (e.code === 'Escape') {\r\n            onClose();\r\n        }\r\n    }\r\n\r\n    const onBdpClick = e => {\r\n        if (e.target === e.currentTarget) {\r\n            onClose();\r\n        }\r\n    };\r\n\r\n    return createPortal(\r\n        <div className={styles.overlay} onClick={onBdpClick}>\r\n            <div className={styles['modal-window']}>{children}</div>\r\n        </div>,\r\n        modalRoot,\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","import React from 'react';\r\nimport Loader from 'react-loader-spinner';\r\n\r\nconst MyLoader = () => <Loader type=\"Circles\" color=\"#c9f3e5\" height={100} width={100} />;\r\n\r\nexport default MyLoader;\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useWindowSize } from '@react-hook/window-size';\r\nimport withApiService from '../../../hoc/withApiService';\r\nimport Gallery from '../gallery';\r\nimport SearchForm from '../search-form';\r\nimport Button from '../../atoms/button';\r\nimport Container from '../container';\r\nimport Modal from '../modal/Modal';\r\nimport MyLoader from '../../atoms/loader';\r\n\r\nimport styles from './styles.module.css';\r\n\r\nconst SearchWrapper = ({ API }) => {\r\n    const [width, height] = useWindowSize();\r\n    const [storageName] = useState('queries');\r\n    const [page, setPage] = useState(1);\r\n    const [perPage] = useState(16);\r\n    const [query, setQuery] = useState('');\r\n    const [inputValue, setInputValue] = useState('');\r\n    const [isNewQuery, setIsNewQuery] = useState(true);\r\n    const [remoteData, setRemoteData] = useState([]);\r\n    const [lastQueries, setLastQueries] = useState([]);\r\n    const [noMoreContent, setNoMore] = useState(false);\r\n    const [currentPicture, setCurrentPicture] = useState('');\r\n    const [isOpenModal, setIsOpenModal] = useState(false);\r\n    const [isNoContent, setIsNoContent] = useState(true);\r\n    const [showLoader, setShowLoader] = useState(false);\r\n    const [emptyImagesListMessage, setEILM] = useState('We are glad to see you!');\r\n\r\n    useEffect(() => {\r\n        setLastQueries(getLast_5_Queries(getQueriesList()));\r\n    }, [API]);\r\n\r\n    const getData = (page, perPage, query) => {\r\n        const orientation = width >= 768 ? 'landscape' : 'portrait';\r\n\r\n        setShowLoader(true);\r\n        API.getPhotosBySearchQuery(page, perPage, query, orientation)\r\n            .then(res => res.data)\r\n            .then(res => {\r\n                if (res.results.length === 0) {\r\n                    setEILM('No content for this query');\r\n                    return setIsNoContent(true);\r\n                }\r\n                if (!isNewQuery) {\r\n                    setRemoteData(prev => [...prev, ...res.results]);\r\n                } else {\r\n                    setRemoteData(res.results);\r\n                }\r\n                setIsNoContent(false);\r\n                isMoreContent(page, res.total_pages);\r\n                setInputValue('');\r\n            })\r\n            .then(() =>\r\n                window.scrollTo({\r\n                    top: document.documentElement.scrollHeight,\r\n                    behavior: 'smooth',\r\n                }),\r\n            )\r\n            .finally(() => setShowLoader(false));\r\n    };\r\n\r\n    function getLast_5_Queries(arr) {\r\n        return arr.slice(-5).reverse();\r\n    }\r\n\r\n    function getQueriesList() {\r\n        return JSON.parse(localStorage.getItem(storageName)) || [];\r\n    }\r\n\r\n    const setQueriesList = value => {\r\n        const list = getQueriesList();\r\n        if (!list.includes(value) && value) {\r\n            list.push(value);\r\n            setLastQueries(getLast_5_Queries(list));\r\n        }\r\n        localStorage.setItem(storageName, JSON.stringify(list));\r\n    };\r\n\r\n    const handleQueryChange = e => {\r\n        const { value } = e.target;\r\n        setQuery(value);\r\n        setInputValue(value);\r\n        setPage(1);\r\n        setIsNewQuery(true);\r\n    };\r\n\r\n    const handleClickSearchButton = e => {\r\n        e.preventDefault();\r\n        getData(page, perPage, query);\r\n        setPage(page + 1);\r\n        if (query) {\r\n            setQueriesList(query);\r\n        }\r\n        setIsNewQuery(false);\r\n    };\r\n\r\n    function isMoreContent(page, totalPages) {\r\n        if (page === totalPages) {\r\n            return setNoMore(true);\r\n        }\r\n        return setNoMore(false);\r\n    }\r\n\r\n    const loadMoreHandler = e => {\r\n        e.preventDefault();\r\n        setPage(page + 1);\r\n        getData(page, perPage, query);\r\n    };\r\n\r\n    const toggleModal = () => {\r\n        if (currentPicture) {\r\n            setCurrentPicture('');\r\n        }\r\n        setIsOpenModal(!isOpenModal);\r\n    };\r\n\r\n    const onImgClick = (e, src) => {\r\n        if (e.target.nodeName !== 'IMG') {\r\n            return;\r\n        }\r\n\r\n        setCurrentPicture(src);\r\n        toggleModal();\r\n        setShowLoader(true);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <SearchForm\r\n                value={inputValue}\r\n                text=\"Click to search\"\r\n                onChangeHandler={handleQueryChange}\r\n                onClickHandler={handleClickSearchButton}\r\n                inputStyles={styles.input}\r\n                buttonStyles={styles.button}\r\n                className={styles.wrapper}\r\n                queriesList={lastQueries}\r\n                disabledBtn={inputValue ? false : true}\r\n            />\r\n            <Container>\r\n                {!isNoContent ? (\r\n                    <>\r\n                        <Gallery remoteData={remoteData} imgClickHandler={onImgClick} size={{ width, height }} />\r\n                        {remoteData.length > 0 && (\r\n                            <Button\r\n                                text=\"Load more\"\r\n                                onClickHandler={loadMoreHandler}\r\n                                disabled={noMoreContent}\r\n                                className={`${styles.button} ${styles['load-more-button']}`}\r\n                            />\r\n                        )}\r\n                    </>\r\n                ) : (\r\n                    <div>\r\n                        <h1 className={styles.message}>{emptyImagesListMessage}</h1>\r\n                    </div>\r\n                )}\r\n            </Container>\r\n            {isOpenModal && (\r\n                <Modal onClose={toggleModal}>\r\n                    {showLoader && <MyLoader />}\r\n                    <img src={currentPicture} alt=\"Big variant\" onLoad={() => setShowLoader(false)} />\r\n                </Modal>\r\n            )}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default withApiService(SearchWrapper);\r\n","import './App.css';\nimport SearchWrapper from './components/molecules/search-wrapper';\n\nfunction App() {\n    return (\n        <div className=\"App\">\n            <SearchWrapper />\n        </div>\n    );\n}\n\nexport default App;\n","import axios from 'axios';\r\n\r\naxios.defaults.headers.post['Content-Type'] = 'application/x-www-form-urlencoded';\r\n\r\nexport default class ApiService {\r\n    constructor() {\r\n        this._axios = axios;\r\n        this._baseURL = process.env.REACT_APP_BASE_URL;\r\n        this._clientID = process.env.REACT_APP_ACCESS_KEY;\r\n        this._page = 1;\r\n        this._per_page = 20;\r\n        this._defaultURI = 'photos/random';\r\n    }\r\n\r\n    _getURL(uri) {\r\n        return this._baseURL + uri;\r\n    }\r\n\r\n    _getQueryParams(params) {\r\n        return Object.keys(params).reduce(\r\n            (acc, el, index) => `${acc}${index !== 0 ? '&' : ''}${el}=${params[el]}`,\r\n            '?',\r\n        );\r\n    }\r\n\r\n    getResource(uri, page, per_page, query, orientation) {\r\n        const client_id = this._clientID;\r\n        const queryParam = query ? { query } : {};\r\n        return this._axios.get(\r\n            this._getURL(uri) +\r\n                this._getQueryParams({\r\n                    client_id,\r\n                    page,\r\n                    per_page,\r\n                    orientation,\r\n                    ...queryParam,\r\n                }),\r\n            { crossdomain: true },\r\n        );\r\n    }\r\n}\r\n","import ApiService from './ApiService';\r\n\r\nclass ApiRequests extends ApiService {\r\n    constructor() {\r\n        super();\r\n        this._searchByQuery = 'search/photos';\r\n        this._random = this._defaultURI;\r\n        this._collections = '';\r\n    }\r\n\r\n    getPhotosBySearchQuery(page = this._page, per_page = this._per_page, query = '', orientation = 'landscape') {\r\n        return this.getResource(this._searchByQuery, page, per_page, query, orientation);\r\n    }\r\n\r\n    getRandom(page = this._page, per_page = this._per_page, orientation = 'landscape') {\r\n        return this.getResource(this._random, page, per_page, orientation);\r\n    }\r\n}\r\n\r\nconst requests = new ApiRequests();\r\n\r\nexport default requests;\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { ApiServiceProvider } from './context';\nimport ApiRequests from './service/api/ApiRequests';\n\nReactDOM.render(\n    <ApiServiceProvider value={ApiRequests}>\n        <App />\n    </ApiServiceProvider>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}